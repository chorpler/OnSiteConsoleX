<ion-header>
  <ion-navbar>
    <ion-buttons left>
      <button ion-button menuToggle *ngIf="!modalMode && !data.currentlyOpeningPage">
        <ion-icon name="menu"></ion-icon>
      </button>
      <button type="button" ion-button icon-only (click)="cancelAndExitModal($event)" *ngIf="modalMode && !data.currentlyOpeningPage">
        <ion-icon name="close"></ion-icon>
      </button>
      <ion-spinner name="bubbles" [class.spinner-opening-page]="true" *ngIf="data.currentlyOpeningPage"></ion-spinner>
    </ion-buttons>
    <ion-title>
      <span class="page-title">{{title}}</span>
      <!-- <span class="report-count"> ({{reports?.length}} reports<span class="report-count-filtered" *ngIf="filteredCount">, {{filteredCount}} matches</span>)</span> -->
    </ion-title>
    <ion-buttons right>
      <span class="menubar-buttons">
        <span class="menubar-button" (click)="resetReportsTable($event)" title="Reset all reports tables (clear filters, etc.)">
          <i class="fa fa-ban clear-button"></i>
        </span>
        <span class="menubar-button" title="Run Tech Shift Reports for visible reports" (click)="openTechShiftReports($event)">
          <i class="icomoon-shift-reports"></i>
        </span>
        <span class="menubar-button" title="Load old reports (can be slow)" (click)="downloadOldReports($event)">
          <i class="fa fa-database"></i>
        </span>
        <span class="menubar-button" title="Load all reports fresh from server" (click)="refreshData($event)">
          <i class="fa fa-refresh"></i>
        </span>
        <span class="menubar-button" title="Export Reports for Payroll" (click)="exportWorkReportsForPayroll($event)">
          <i class="icomoon-payroll"></i>
        </span>
        <span class="menubar-button" title="Export reports table to CSV file" (click)="exportReportsTableAsCSV($event)">
          <i class="fa fa-cloud-download"></i>
        </span>
        <span class="menubar-button" title="Copy reports list to clipboard (to paste in Excel, etc.)" (click)="copyTable($event)">
          <i class="fa fa-clipboard"></i>
        </span>
        <!-- <button class="menubar-button" ion-button icon-only (click)="resetReportsTable($event)" title="Reset reports table (clear filters, etc.)">
          <i class="fa fa-ban clear-button"></i>
        </button>
        <button class="menubar-button" ion-button icon-only title="Run Tech Shift Reports for visible reports" (click)="openTechShiftReports($event)">
          <i class="icomoon-shift-reports"></i>
        </button>
        <button class="menubar-button" ion-button icon-only title="Load old reports (can be slow)" (click)="downloadOldReports($event)">
          <i class="fa fa-database"></i>
        </button>
        <button class="menubar-button" ion-button icon-only title="Load all reports fresh from server" (click)="refreshData($event)">
          <i class="fa fa-refresh"></i>
        </button>
        <button class="menubar-button" ion-button icon-only title="Export Reports for Payroll" (click)="exportWorkReportsForPayroll($event)">
          <i class="icomoon-payroll"></i>
        </button>
        <button class="menubar-button" ion-button icon-only title="Export reports table to CSV file" (click)="exportReportsTableAsCSV($event)">
          <i class="fa fa-cloud-download"></i>
        </button>
        <button class="menubar-button" ion-button icon-only title="Copy reports list to clipboard (to paste in Excel, etc.)" (click)="copyTable($event)">
          <i class="fa fa-clipboard"></i>
        </button> -->
      </span>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<!-- <ion-content padding *ngIf="dataReady && data.ready()"> -->
<ion-content padding #reportsContent id="reports-content" *ngIf="dataReady">
  <p-panel #reportsPanel id="panel-reports" [styleClass]="'reports-panel work-reports'" [toggleable]="true">
    <p-header>
      <span class="panel-header">
        <span class="button-left">
          <span class="panel-header-button db-download" title="Load work reports from database" (click)="possibleUpdateReports(0, $event)"></span>
        </span>
        <span class="button-left">
          <span class="panel-header-button" title="Calculate total hours shown" (click)="calculateHoursShown($event)"><i class="fal fa-calculator-alt"></i></span>
        </span>
        <span class="panel-title">
          Work Reports<span class="report-count"> ({{reports?.length}} loaded<span class="report-count-filtered" *ngIf="filteredCount">, {{filteredCount}} matches</span>)</span>
        </span>
      </span>
    </p-header>

    <div #printArea class="table-wrapper" id="print-area">

      <!-- Begin Reports table -->
      <p-table #dt [styleClass]="'reports-table'" [columns]="selectedColumns" [value]="reports" [resizableColumns]="true" [reorderableColumns]="colsReorder" [autoLayout]="autoLayout" [rows]="rowCount" [paginator]="showTableFoot" [pageLinks]="3" [rowsPerPageOptions]="pageSizeOptions" selectionMode="single" (onRowSelect)="onRowSelect($event)" sortMode="multiple" [multiSortMeta]="reportsMultiSortMeta">

        <!-- Caption area (column multiselect, date range filter, global search input) -->
        <ng-template pTemplate="caption">
          <div class="table-caption">
            <div class="column-choose-wrapper">
              <p-multiSelect #columnSelect [styleClass]="'column-multiselect'" optionLabel="header" defaultLabel="Choose columns" [options]="cols" [(ngModel)]="selectedColumns" [selectedItemsLabel]="selectedLabel" (onChange)="selectionChanged($event)"></p-multiSelect>
            </div>
            <div class="caption-right">
              <div class="date-wrapper">
                <span class="date-range-calendar-wrapper">
                  <p-calendar #dateRangeCalendar [styleClass]="'date-range-calendar'" [(ngModel)]="dateRange" (onSelect)="checkDateRange($event)" (onClose)="checkDateRangeOnClose($event)" selectionMode="range" readonlyInput="true" showOtherMonths="true" selectOtherMonths="true" showIcon="true" placeholder="Date Range" title="Filter reports by this date range"></p-calendar>
                </span>
                <span class="header-button" title="Clear date filters" (click)="clearDates(dt, $event)"><i class="fa fa-times"></i></span>
              </div>
              <div class="global-filter-wrapper">
                <i class="global-filter-icon fa fa-search" style="margin:4px 4px 0 0"></i>
                <input #globalFilterInput class="global-filter-input" type="text" pInputText size="50" placeholder="Global Search" (input)="dt.filterGlobal($event.target.value, 'contains')" style="width:auto">
              </div>
            </div>
          </div>
        </ng-template>

        <!-- Header area (col name, col sort icons, filter fields) -->
        <ng-template pTemplate="header" let-columns>
          <tr [class.reports-table-header]="true">
            <th [class.header-col-button]="true" [ngStyle]="styleColEdit" *ngIf="showButtonCol"></th>
            <th *ngFor="let col of columns; let i=index" [class.header-col]="true" [ngClass]="col?.class" [pSortableColumn]="col?.field" [ngStyle]="col?.style" [title]="col?.tooltip" pResizableColumn>
              {{col?.header}}
              <p-sortIcon [field]="col?.field"></p-sortIcon>
            </th>
          </tr>
          <tr class="reports-table-filter-row" *ngIf="showFilterRow">
            <th [class.header-col-button]="true" *ngIf="showButtonCol"></th>
            <th *ngFor="let col of columns" [class.filter-col]="true" [ngClass]="col?.class" [title]="col?.tooltip">
              <input [class.reports-col-filter]="true" pInputText type="text" [placeholder]="col?.filterPlaceholder" (input)="dt.filter($event.target.value, col.field, 'contains')">
            </th>
          </tr>
        </ng-template>

        <!-- Report table body rows and columns (actual data) -->
        <ng-template pTemplate="body" let-rowData let-columns="columns">
          <tr>
            <td [class.button-col]="true" title="View work report" (click)="showReport(rowData, $event)" *ngIf="showButtonCol">
              <span class="icon-button-wrapper">
                <i class="fa fa-pencil-square-o work-reports-button-icon"></i>
              </span>
            </td>
            <td *ngFor="let col of columns; let i=index" [class.body-col]="true" [ngClass]="col?.class" [ngStyle]="col?.style">
              <span class="cell-body-data" *ngIf="col.format!=='HH:mm'">
                {{rowData[col?.field]}}
              </span>
              <span class="cell-body-data" *ngIf="col.format==='HH:mm'">
                {{rowData[col?.field].format("HH:mm")}}
              </span>
            </td>
          </tr>
        </ng-template>

      </p-table>
      <!-- Table ended -->
    </div>
  </p-panel>

  <p-panel #othersPanel id="panel-others" [styleClass]="'reports-panel others'" [toggleable]="true">
    <p-header>
      <span class="panel-header">
        <span class="button-left">
          <span class="panel-header-button db-download" title="Load miscellaneous reports from database" (click)="possibleUpdateReports(1, $event)"></span>
        </span>
        <span class="button-left">
          <span class="panel-header-button" title="Calculate total misc report hours shown" (click)="calculateMiscHoursShown($event)"><i class="fal fa-calculator-alt"></i></span>
        </span>
        <span class="panel-title">
          Misc Reports<span class="report-count"> ({{others?.length}} loaded<span class="report-count-filtered" *ngIf="filteredCountOthers">, {{filteredCountOthers}} matches</span>)</span>
        </span>
      </span>
    </p-header>
    <div #printAreaOthers class="table-wrapper" id="print-area-others">

      <!-- Begin Misc Reports table -->
      <p-table #othersTable [styleClass]="'others-table'" [columns]="selectedColumnsOthers" [value]="others" [resizableColumns]="true" [reorderableColumns]="colsReorder" [autoLayout]="autoLayout" [rows]="rowCount" [paginator]="showTableFoot" [pageLinks]="3" [rowsPerPageOptions]="pageSizeOptions" selectionMode="single" (onRowSelect)="onRowSelectOther($event)" sortMode="multiple" [multiSortMeta]="othersMultiSortMeta">

        <!-- Caption area (column multiselect, date range filter, global search input) -->
        <ng-template pTemplate="caption">
          <div class="table-others-caption">
            <div class="column-choose-others-wrapper">
              <p-multiSelect #columnSelectOthers [styleClass]="'column-others-multiselect'" optionLabel="header" defaultLabel="Choose columns" [options]="colsOthers" [(ngModel)]="selectedColumnsOthers" [selectedItemsLabel]="selectedLabelOthers" (onChange)="selectionChangedOthers($event)"></p-multiSelect>
            </div>
            <div class="caption-right">
              <div class="date-wrapper">
                <span class="date-range-calendar-wrapper">
                  <p-calendar #dateRangeCalendarOthers [styleClass]="'date-range-calendar'" [(ngModel)]="dateRange" (onSelect)="checkDateRange($event)" (onClose)="checkDateRangeOnClose($event)" selectionMode="range" readonlyInput="true" showOtherMonths="true" selectOtherMonths="true" showIcon="true" placeholder="Date Range" title="Filter reports by this date range"></p-calendar>
                </span>
                <span class="header-button" title="Clear date filters" (click)="clearDates(othersTable, $event)"><i class="fa fa-times"></i></span>
              </div>
              <div class="global-filter-wrapper">
                <i class="global-filter-icon fa fa-search" style="margin:4px 4px 0 0"></i>
                <input #globalFilterInputOthers class="global-filter-input" type="text" pInputText size="50" placeholder="Global Search" (input)="othersTable.filterGlobal($event.target.value, 'contains')" style="width:auto">
              </div>
            </div>
          </div>
        </ng-template>

        <!-- Header area (col name, col sort icons, filter fields) -->
        <ng-template pTemplate="header" let-columns>
          <tr [class.reports-table-header]="true">
            <th [class.header-col-button]="true" [ngStyle]="styleColEdit" *ngIf="showButtonCol"></th>
            <th *ngFor="let col of columns; let i=index" [class.header-col]="true" [ngClass]="col?.class" [pSortableColumn]="col?.field" [ngStyle]="col?.style" [title]="col?.tooltip" pResizableColumn>
              {{col?.header}}
              <p-sortIcon [field]="col?.field"></p-sortIcon>
            </th>
          </tr>
          <tr class="reports-table-filter-row" *ngIf="showFilterRow">
            <th [class.header-col-button]="true" *ngIf="showButtonCol"></th>
            <th *ngFor="let col of columns" [class.filter-col]="true" [ngClass]="col?.class" [title]="col?.tooltip">
              <input [class.reports-col-filter]="true" pInputText type="text" [placeholder]="col?.filterPlaceholder" (input)="othersTable.filter($event.target.value, col.field, 'contains')">
            </th>
          </tr>
        </ng-template>

        <!-- Report table body rows and columns (actual data) -->
        <ng-template pTemplate="body" let-rowData let-columns="columns">
          <tr>
            <td [class.button-col]="true" title="View misc report" (click)="showReportOther(rowData, $event)" *ngIf="showButtonCol">
              <span class="icon-button-wrapper">
                <i class="fa fa-pencil-square-o work-reports-button-icon"></i>
              </span>
            </td>
            <td *ngFor="let col of columns; let i=index" [class.body-col]="true" [ngClass]="col?.class" [ngStyle]="col?.style">
              <span class="cell-body-data" *ngIf="!col?.format">
                {{rowData[col?.field]}}
              </span>
              <span class="cell-body-data" *ngIf="col?.format">
                <!-- {{rowData[col?.field].format(col?.format)}} -->
                <!-- {{rowData[col?.field].getReportDateAsString(col?.format)}} -->
                {{getMomentString(rowData[col?.field], col?.format)}}
              </span>
            </td>
          </tr>
        </ng-template>

      </p-table>
      <!-- Table ended -->

    </div>
  </p-panel>

  <p-panel #logisticsPanel id="panel-logistics" [styleClass]="'reports-panel logistics'" [toggleable]="true">
    <p-header>
      <span class="panel-header">
        <span class="button-left">
          <span class="panel-header-button db-download" title="Load logistics reports from database" (click)="possibleUpdateReports(2, $event)"></span>
        </span>
        <span class="button-left">
          <span class="panel-header-button" title="Calculate total logistics hours shown" (click)="calculateLogisticsHoursShown($event)"><i class="fal fa-calculator-alt"></i></span>
        </span>
        <span class="button-left">
          <span class="panel-header-button" title="Calculate total logistics miles shown" (click)="calculateLogisticsMilesShown($event)"><i class="fal fa-ruler"></i></span>
        </span>
        <span class="panel-title">
          Logistics Reports<span class="report-count"> ({{logistics?.length}} loaded<span class="report-count-filtered" *ngIf="filteredCountLogistics">, {{filteredCountLogistics}} matches</span>)</span>
        </span>
      </span>
    </p-header>
    <div #printAreaLogistics class="table-wrapper" id="print-area-logistics">

      <!-- Begin Misc Reports table -->
      <p-table #logisticsTable [styleClass]="'logistics-table'" [columns]="selectedColumnsLogistics" [value]="logistics" [resizableColumns]="true" [reorderableColumns]="colsReorder" [autoLayout]="autoLayout" [rows]="rowCount" [paginator]="showTableFoot" [pageLinks]="3" [rowsPerPageOptions]="pageSizeOptions" selectionMode="single" (onRowSelect)="onRowSelectLogistics($event)" sortMode="multiple" [multiSortMeta]="logisticsMultiSortMeta">

        <!-- Caption area (column multiselect, date range filter, global search input) -->
        <ng-template pTemplate="caption">
          <div class="table-logistics-caption">
            <div class="column-choose-logistics-wrapper">
              <p-multiSelect #columnSelectLogistics [styleClass]="'column-logistics-multiselect'" optionLabel="header" defaultLabel="Choose columns" [options]="colsLogistics" [(ngModel)]="selectedColumnsLogistics" [selectedItemsLabel]="selectedLabelLogistics" (onChange)="selectionChangedLogistics($event)"></p-multiSelect>
            </div>
            <div class="caption-right">
              <div class="date-wrapper">
                <span class="date-range-calendar-wrapper">
                  <p-calendar #dateRangeCalendarLogistics [styleClass]="'date-range-calendar'" [(ngModel)]="dateRange" (onSelect)="checkDateRange($event)" (onClose)="checkDateRangeOnClose($event)" selectionMode="range" readonlyInput="true" showOtherMonths="true" selectOtherMonths="true" showIcon="true" placeholder="Date Range" title="Filter reports by this date range"></p-calendar>
                </span>
                <span class="header-button" title="Clear date filters" (click)="clearDates(logisticsTable, $event)"><i class="fa fa-times"></i></span>
              </div>
              <div class="global-filter-wrapper">
                <i class="global-filter-icon fa fa-search" style="margin:4px 4px 0 0"></i>
                <input #globalFilterInputLogistics class="global-filter-input" type="text" pInputText size="50" placeholder="Global Search" (input)="logisticsTable.filterGlobal($event.target.value, 'contains')" style="width:auto">
              </div>
            </div>
          </div>
        </ng-template>

        <!-- Header area (col name, col sort icons, filter fields) -->
        <ng-template pTemplate="header" let-columns>
          <tr [class.reports-table-header]="true">
            <th [class.header-col-button]="true" [ngStyle]="styleColEdit" *ngIf="showButtonCol"></th>
            <ng-container *ngFor="let col of columns; let i=index">
              <th [class.header-col]="true" [ngClass]="col?.class" [pSortableColumn]="col?.field" [ngStyle]="col?.style" [title]="col?.tooltip" pResizableColumn>
                {{col?.header}}
                <p-sortIcon [field]="col?.field"></p-sortIcon>
              </th>
            </ng-container>
          </tr>
          <tr class="reports-table-filter-row" *ngIf="showFilterRow">
            <th [class.header-col-button]="true" *ngIf="showButtonCol"></th>
            <ng-container *ngFor="let col of columns; let i=index">
              <th [class.filter-col]="true" [ngClass]="col?.class" [title]="col?.tooltip">
                <!-- <input [class.reports-col-filter]="true" pInputText type="text" [placeholder]="col?.filterPlaceholder" (input)="logisticsTable.filter($event.target.value, col.field, 'contains')" *ngIf="col.filter"> -->
                <input [class.reports-col-filter]="true" pInputText type="text" [placeholder]="col?.filterPlaceholder" (input)="logisticsTable.filter($event.target.value, col.field, 'contains')" *ngIf="col.filter">
                <input [class.reports-col-filter-disabled]="true" pInputText type="text" [placeholder]="'--'" [disabled]="true" *ngIf="!col.filter">
              </th>
            </ng-container>
          </tr>
        </ng-template>

        <!-- Report table body rows and columns (actual data) -->
        <ng-template pTemplate="body" let-rowData let-columns="columns">
          <tr>
            <td [class.button-col]="true" title="View Logistics Report" (click)="showReportLogistics(rowData, $event)" *ngIf="showButtonCol">
              <span class="icon-button-wrapper">
                <i class="fa fa-pencil-square-o work-reports-button-icon"></i>
              </span>
            </td>
            <td *ngFor="let col of columns; let i=index" [class.body-col]="true" [ngClass]="col?.class" [ngStyle]="col?.style">
              <span class="cell-body-data" *ngIf="col.type === 'location'">
                {{rowData[col?.field].getCoordinatesAsString()}}
              </span>
              <span class="cell-body-data" *ngIf="!col?.type && !col?.format">
                {{rowData[col?.field]}}
              </span>
              <span class="cell-body-data" *ngIf="!col?.type && col?.format">
                <!-- {{moment(rowData[col?.field]).format(col?.format)}} -->
                {{getMomentString(rowData[col?.field], col.format)}}
              </span>
            </td>
          </tr>
        </ng-template>

      </p-table>
      <!-- Table ended -->

    </div>
  </p-panel>

  <p-panel #timecardsPanel id="panel-timecards" [styleClass]="'reports-panel timecards'" [toggleable]="true">
    <p-header>
      <span class="panel-header">
        <span class="button-left">
          <span class="panel-header-button db-download" title="Load time cards from database" (click)="possibleUpdateReports(3, $event)"></span>
        </span>
        <span class="button-left">
          <span class="panel-header-button" title="Calculate total timecard hours shown" (click)="calculateTimeCardHoursShown($event)"><i class="fal fa-calculator-alt"></i></span>
        </span>
        <span class="panel-title">
          Time Cards<span class="report-count"> ({{timecards?.length}} loaded<span class="report-count-filtered" *ngIf="filteredCountTimeCards">, {{filteredCountTimeCards}} matches</span>)</span>
        </span>
      </span>
    </p-header>
    <div #printAreaTimeCards class="table-wrapper" id="print-area-timecards">

      <!-- Begin Misc Reports table -->
      <p-table #timecardsTable [styleClass]="'timecards-table'" [columns]="selectedColumnsTimeCards" [value]="timecards" [resizableColumns]="true" [reorderableColumns]="colsReorder" [autoLayout]="autoLayout" [rows]="rowCount" [paginator]="showTableFoot" [pageLinks]="3" [rowsPerPageOptions]="pageSizeOptions" selectionMode="single" (onRowSelect)="onRowSelectTimeCards($event)" sortMode="multiple" [multiSortMeta]="timeCardsMultiSortMeta">

        <!-- Caption area (column multiselect, date range filter, global search input) -->
        <ng-template pTemplate="caption">
          <div class="table-timecards-caption">
            <div class="column-choose-timecards-wrapper">
              <p-multiSelect #columnSelectTimeCards [styleClass]="'column-timecards-multiselect'" optionLabel="header" defaultLabel="Choose columns" [options]="colsTimeCards" [(ngModel)]="selectedColumnsTimeCards" [selectedItemsLabel]="selectedLabelTimeCards" (onChange)="selectionChangedTimeCards($event)"></p-multiSelect>
            </div>
            <div class="caption-right">
              <div class="date-wrapper">
                <span class="date-range-calendar-wrapper">
                  <p-calendar #dateRangeCalendarTimeCards [styleClass]="'date-range-calendar'" [(ngModel)]="dateRange" (onSelect)="checkDateRange($event)" (onClose)="checkDateRangeOnClose($event)" selectionMode="range" readonlyInput="true" showOtherMonths="true" selectOtherMonths="true" showIcon="true" placeholder="Date Range" title="Filter reports by this date range"></p-calendar>
                </span>
                <span class="header-button" title="Clear date filters" (click)="clearDates(timecardsTable, $event)"><i class="fa fa-times"></i></span>
              </div>
              <div class="global-filter-wrapper">
                <i class="global-filter-icon fa fa-search" style="margin:4px 4px 0 0"></i>
                <input #globalFilterInputTimeCards class="global-filter-input" type="text" pInputText size="50" placeholder="Global Search" (input)="timecardsTable.filterGlobal($event.target.value, 'contains')" style="width:auto">
              </div>
            </div>
          </div>
        </ng-template>

        <!-- Header area (col name, col sort icons, filter fields) -->
        <ng-template pTemplate="header" let-columns>
          <tr [class.reports-table-header]="true">
            <th [class.header-col-button]="true" [ngStyle]="styleColEdit" *ngIf="showButtonCol"></th>
            <th *ngFor="let col of columns; let i=index" [class.header-col]="true" [ngClass]="col?.class" [pSortableColumn]="col?.field" [ngStyle]="col?.style" [title]="col?.tooltip" pResizableColumn>
              {{col?.header}}
              <p-sortIcon [field]="col?.field"></p-sortIcon>
            </th>
          </tr>
          <tr class="reports-table-filter-row" *ngIf="showFilterRow">
            <th [class.header-col-button]="true" *ngIf="showButtonCol"></th>
            <th *ngFor="let col of columns" [class.filter-col]="true" [ngClass]="col?.class" [title]="col?.tooltip">
              <input [class.reports-col-filter]="true" pInputText type="text" [placeholder]="col?.filterPlaceholder" (input)="timecardsTable.filter($event.target.value, col.field, 'contains')">
            </th>
          </tr>
        </ng-template>

        <!-- Report table body rows and columns (actual data) -->
        <ng-template pTemplate="body" let-rowData let-columns="columns">
          <tr>
            <td [class.button-col]="true" title="View time card" (click)="showReportTimeCard(rowData, $event)" *ngIf="showButtonCol">
              <span class="icon-button-wrapper">
                <i class="fa fa-pencil-square-o work-reports-button-icon"></i>
              </span>
            </td>
            <td *ngFor="let col of columns; let i=index" [class.body-col]="true" [ngClass]="col?.class" [ngStyle]="col?.style">
              <span class="cell-body-data" *ngIf="!col?.format">
                {{rowData[col?.field]}}
              </span>
              <span class="cell-body-data" *ngIf="col?.format">
                {{moment(rowData[col?.field]).format(col?.format)}}
              </span>
            </td>
          </tr>
        </ng-template>

      </p-table>
      <!-- Table ended -->

    </div>
  </p-panel>
</ion-content>

<report-view-beta #reportView *ngIf="reportViewVisible" [class.report-view-component]="true" [report]="report" [reports]="editReports" [tech]="tech" [site]="site" [sites]="sites" (save)="reportViewSave($event)" (cancel)="reportViewCancel($event)"></report-view-beta>
<report-other-view #otherView *ngIf="reportOtherViewVisible" [class.report-view-component]="true" [other]="other" [others]="editOthers" [tech]="tech" [site]="site" [sites]="sites" (save)="otherViewSave($event)" (cancel)="otherViewCancel($event)"></report-other-view>
<report-logistics-view #logisticsView *ngIf="reportLogisticsViewVisible" [class.report-view-component]="true" [report]="logistic" [reports]="editLogistics" [tech]="tech" [site]="site" [sites]="sites" (save)="logisticsViewSave($event)" (cancel)="logisticsViewCancel($event)"></report-logistics-view>
<report-timecard-view #timecardView *ngIf="reportTimeCardViewVisible" [class.report-view-component]="true" [report]="timecard" [reports]="editTimeCards" [tech]="tech" [site]="site" [sites]="sites" (save)="timeCardViewSave($event)" (cancel)="timeCardViewCancel($event)"></report-timecard-view>
